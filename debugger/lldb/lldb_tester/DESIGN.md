# LLDB 测试框架设计文档

## 架构设计

### 核心组件
1. TestRunner - 负责测试执行和流程控制
2. TestLoader - 负责测试用例发现和加载
3. TestReporter - 负责测试结果收集和报告
4. TestFilter - 负责测试用例过滤

## 新增功能实现

### 测试统计和报告
- 记录每个测试用例的执行时间
- 统计通过/失败/忽略的测试数量
- 生成详细的测试报告
- 支持JSON格式的报告输出

### 测试用例管理
- 自动发现测试脚本目录下的所有测试
- 支持测试用例分组
- 提供测试列表功能

### 命令行增强
- 支持指定单个测试用例
- 支持测试过滤模式
- 支持失败重试
- 支持忽略已知失败的测试

### UI改进
- 彩色输出区分不同状态
- 实时显示测试进度
- 详细的错误信息展示

## 实现细节

### 测试自动发现
扫描`test_scripts`目录下的所有`.py`文件，每个文件作为一个测试用例。文件中必须包含`run_test`函数。

### 测试过滤
支持通过名称模式匹配过滤测试用例，例如`test_*.py`。

### 失败处理
提供`--continue-on-failure`选项控制是否在测试失败后继续执行。